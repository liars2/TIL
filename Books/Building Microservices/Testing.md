테스팅
---------

1. 테스트의 종류
- 단위 테스트, 사용자 테스트, 성능 테스트, 서비스 테스트(?) 4개 존재
> 위에 내가 적은 테스트는 단위 테스팅과 속성 테스팅이 안에 있는 것들을 적은 것이다.
> 정확하게는 인수 테스팅, 탐색 테스팅, 단위 테스팅, 속성 테스팅 이렇게 나뉜다.

> 인수 테스팅은 옳은 것을 빌드했는가? 에 대해서 물어보고 있는데 의사소통과 최대한 많은 경우의 수를 통하여 옳은 작업을 하는 프로그램을 빌드 하였는가? 에 대해서 물어보는 것이다.
> 탐색 테스팅은 어떻게 시스템에 장애를 만들 수 있을까? 에 대해서 물어보고 있는데 의도하지 않는 작업을 통해 장애가 발생하는지에 관한 내용을 물어보고 있다.
> 단위 테스팅 은 제대로 빌드했는가? 에 대해서 물어보고 있는데 이것은 자동 배포에 관한 내용인데 혹시라도 자동 배포에 몇 가지 멱등성을 무시하고 다른 과정이 포함되는것을 방지하기 위한 테스트이다.
> 속성 테스팅 같은 경우에는 응답 시간, 확장성, 성능, 보안 관련인데 이것은 성능 테스트와 연관되어 있다.

즉 위에 있는 테스트 같은 경우에는 서비스 개발부터 배포 후 실환경까지에 테스트를 할 수 있는 것까지 만든 것이다.

여기서 우리는 단위 테스트에 관련된 내용을 다룰 것이다.

테스트 피라미드 라는 용어도 사용했는데, 피라미드 처럼 맨 위는 UI 테스트 그 밑은 서비스 테스트 그 밑은 유닛 테스트로 분리되었으며

유닛 테스트 같은 경우에는 테스트 범위가 작고 실행속도도 빠르고 많지만, 서비스 테스트는 실행속도는 유닛 테스트보다 느리며 범위도 더 커지고, 서비스들이 전부 모인 종단 테스트 같은 경우에는 범위도 전체 범위며 서비스들이 전부 실행되므로 느리다.

> 이 이야기는 테스트의 범위에 관련된 이야기를 하고 있다. 여기 있는 내용에서는 테스트가 필요한 이유에 대해서 작성되어 있으며, 테스트의 단위부터 설명하고 있다.
> 한 줄의 코드는 단위 테스트가 될 수 있으며, 여러 함수와 클래스를 테스트 하는것은 유닛 테스트가 아니다! 라고 표현하고 있다.

> 유닛 테스트는 기술 중심이라고 표현하였고 핵심 목표는 정상 동작이다!!!! 리팩토링은 코드 보수를 위한 행위이고 정상적으로 동작하는지 확인인것이다!!!


2. 테스트의 파이프라인

특이사항) 마이크로서비스는 여러가지 서비스가 모여있는 집합체, '서비스' 테스트가 존재한다.

우리가 흔히들 알고 있는 유닛테스트도 존재, 서비스를 기준으로 테스트하는 서비스 테스트, 마지막으로 전체를 테스트하는 종단 테스트가 존재(End-to-end).
> 여기서 종단 테스트는 UI 테스트인데 어자피 첨부터 끝까지 테스트하므로 종단 테스트(End to end) 라고 이름을 붙혔다.

하지만, 이 파이프라인대로 따라간다고 해서 훌륭한 테스트는 아니다.

**이유가 두가지 있었는데 기억이 안남 (찾아봐라)**

서비스 테스트에서 스텁과 목 관련된 내용이 나왔는데

스텁 같은 경우엔 함수 자체를 원하는 결과로 바꿀 수 있는 것이고, 목 같은 경우엔 원하는 진행대로 바꿀 수 있다.

이 두 개를 사용하는 것은 더블 테스트라고 불린다.

그리고, 종단 간 테스트에서는 많은 문제점들이 존재하는데

이 종단간 테스트 같은 경우에는 서비스를 전체 테스트하기 때문에 외부의 요인도 신경써야하고 테스트의 범위도 넓어져서 관리하기 힘들 수 있다.


그리고 유닛 테스트의 경우소비자 주도 테스트가 존재하는데 **이와 관한 내용은 졸면서 보는것 같았다.** 모르는 내용이기 때문에 잘 살펴보자

그에 따른 툴도 소개가 됬는데 Pact 라는 툴을 중심적으로 설명하였고

테스트에서 극복할 수 없는 내용이 담겨있기 때문에 릴리즈에서 발견되는 버그를 해결하기 위한 여러가지 테스팅 기법도 존재한다.
> 테스트에서 극복할 수 없는 내용이 아닌 테스트보다 실환경에서 발견되는 버그가 더 유익할 수 있다 라는 말이 존재하며 평균 무고장 시간 MTBF, MTTR 사이의 최적화에 대한 균형으로 언급된다.

EX) 스모크 테스트 및 그린/블루와 카나리 릴리즈

대부분의 알고 있는 내용은 많지만, 모르는 내용에 대해서 대충 읽고 넘어간 것 같다.

소비자 주도 테스트:

소비자 주도 계약을 하여 소비자와 서비스를 관리하는 관리자와 짝을 맽어 일부 서비스에 대해 연결되는 부분은 스텁화하고 작업을 한다.
여기서 발생하는 행동 양식은 코드화해서 작업을 하는 것이며, 엔드 투 엔드 테스트의 엑기스만 뽑아놓은 것이다 라고 생각할 수 있따.

이것을 본다면, 소비자가 하는 모든 행동을 양식으로 만들어 테스트 하는것은 소비자 주도 테스트에서 하는 테스트만으로도 서비스의 테스팅은 끝낼 수 있다.

그렇다면 결국엔 종단 테스트는 할 필요가 없는 테스트인가? 라고 생각했을때 종단 테스트만의 이점이 있고 그것이 효율적인가???

실환경 시스템을 모니터링 하기 위해 유의적 모니터링이 필요한데, 이 것은ㅇ 더 많은 엔드 투 엔드 테스트를 사용하였으며

실환경 배포 전에 보조 수단으로 엔드 투 엔드 테스트를 실행하는 것을 있다.

종단 테스트튼 감소된 위험과 순환 시간간의 균형을 유지할 유용한 안전망 처럼 형성할 수 있지만, 위에 테스트로 굳이 필요하지 않을 수 있다.

모든 결함의 원인을 제거하고 실환경에서 적절한 처리와 효과적인 모니터링이 여전히 필요하다는 것을 이해하는 한 엔드 투 엔드 테스트는 합리적이 선택이다.

> 이 내용을 보면, 굳이 앞서 말한 테스팅 파이프라인으로 그대로 가는것이 아닌 서비스에 상황과 필요성에 따라 파이프라인을 변경할 수 있다. 라는 내용

적지 않은 내용

교차기능 테스트
