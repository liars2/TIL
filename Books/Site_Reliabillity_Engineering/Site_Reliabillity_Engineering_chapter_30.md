사이트 신뢰성 엔지니어링 Site_Reliabillity_Engineering </br>
챕터 30. SRE를 이용해 운영 업무의 부담에서 벗어나기
==============
## SRE 원칙의 모순
    SRE팀에 있어 프로젝트 업무시간과 궁녕ㅇ시간을 균등하게 할해하는 것은 원칙이지만
    현실적으론, 티켓량이 증가하여 이 정책을 준수하지 못하는 경우가 있음
    운영업무가 감당이 안되면, 티켓을 처리하는데 시간과 비용이 올라가고 확장성과 안정성 확보에 어려움을 겪게되어 
  >결국에 SRE에게 큰 짐이 된다. 해결하기 위해서는 SRE가 일시적으로 각 팀에 지원하는 것이다.

### SRE가 팀에 지원하는 이점
    SRE가 소속되면 티켓 비우는 일이 없어지고, 팀 업무를 개선하는데 초점을 맞추고,
    팀의 일상적인 업무를 관찰하여 개선하기 위한 조언 지식
  > 하지만, 2명 이상 SRE 엔지니어가 지원할 필요는 없다 왜냐하면 </br> 더 나은 결과와 기대를 바랄 수 없고 대상 팀이 방어적으로 행동한다면 문제가 발생하기 때문이다.

SRE가 다른 팀에 지원을 나가기 위한 가이드
-----------------------------------------

### 1. 서비스에 대해 배우고 컨텍스트를 이해하기
    SRE의 업무는 서비스 확장성에 대해 팀의 어떤 절차와 관습이 기여를 하고 어떤 것들이 기여를 못하고 있는지를 구분하는 것이다.
    티켓이 늘어난다고 해서 2명 이상의 엔지니어가 지원할 필요가 없다는 것을 상기시켜야 함.

#### SRE 모델의 목적
    시스템이 복잡해 질수록 더 많은 사람들을 소개하는 것 뿐
    대신, 올바른 업무 습관을 위해 시간을 줄이는지 주의를 기울이도록 유도해야 함.
    자동화나 서비슨의 간소화를 통해 해결할 수 있는 기회를 놓치고 있는 부분을 지적해주는 것만큼이나 중요하다.

#### 운영 모드로 들어가는 팀은 확장에 대해 크게 고민을 안하고 있을지도 모른다.
  하지만 SRE에게는 확장성과 관려된 요소들이 큰 영향에 미치므로, 이 사실을 파악하기 위해 비상 대기 업무에 보조로 참여하는 게 좋다.
  만일 주요 서비스가 비즈니스 관점에서는 중요하지만 규모가 작은 팀(복잡도가 적고, 매우 적은 자원으로 운영)은
  서비스 안전성을 높히고 방해 되는 팀의 업무 방식들에 집중해라.
> 서비스가 막 시작되는 단계의 팀 같은 경우 폭발적 성장에 대응 할 수 있게 준비하는 것을 중점으로 두어야 한다.

### 2. 스트레스 주범 규정
    간혹 SRE팀의 긴급상황의 수를 줄이는 것보다 긴급상황에 빠르게 대처 하기 위해 운영모드에 들어갈 수 있다.
    실제로 발생하거나 예상하는 압박이 심한 경우 서비스에 대한 지식(디자인과 배포등)에 충분히 숙지 했다면 **스트레스 수준에 따라 우선순위를 구분하자**
  > 지금까지 일해온 관습 때문에 아주 작은 문제 혹은 장애도 큰 스트레스로 다가올 수 있다.

#### 문제를 유발할 수 있는 부분 규정
* 지식의 차이
  * 어느 한 사람이 전문화되면 스스로 비상대기 지원을 수행하는 데 필요한 광범위한 지식이 없거나</br> 그 한 사람에 지나치게 의존해 팀원들이 시스템의 중요한 부분에 무관심해질 위험이 있다.
* SRE가 개발한 서비스의 중요도가 알지 못하는 새에 증가한다.
  * 팀원들의 주목을 받기가 힘들다, 왜냐면 SRE가 개발한 서비스는 상대적으로 작으며, 한두 명의 SRE만이 관심을 갖기 때문이다.
* '다음에 출시할 큰 기능'에 대한 지나친 의존도
  * 팀원들은 지금 당장 임시로 수정한 내용이 필요 없는 새로운 솔류션이 개발될 것이라고 믿으면 </br> **몇 달이 지나도 문제를 해결하지 않으려고 함**
* 개발팀과 SRE가 충분히 조사하지 않은 일반적인 알림
  * 팀원들이 실제 문제를 해결하는데 방해가 되므로, 완전히 분석 혹은 알림 규칙을 수정해야만 함.
* 고객들이 불만을 가지고 있거나 SLO/SLI/SLA를 제대로 규정하고 있지 않은 서비스
* 수용량 계획 수준이 '긴밤에 메모리 문제 발생하여 더 많은 서버 투입' 정도인 모든 서비스
  * 단기간의 부하 테스트를 통과한다고 해서 끝이 아닌 충분히 앞을 내다보고 수립해야만 함.
* 포스트모텀의 실행 항목이 장애가 발생한 특정 변경 사항에 대한 롤백만 언급하는 경우
  * >'홍보 비디오의 처음 1MB를 다운하는데 왜 60초가 걸리는지 확인할 것' O </br>'스트리밍 타임아웃을 60초로 되돌릴 것' X
* 현재의 SRE가 개발자에게 모든 책임을 돌리는 서비스의 모든 컴포넌트들
  * 컴포넌트에 비상 대기 업무를 수행하려면 해당 컴포넌트에 대한 결과, 문제를 신속하게 해결하는 방법을 알고 있어야 함.

### 2. 컨텍스트의 공유
    업무에서 유동적이고, 노력이 많이 필요한일이 밝혀졌다면
    포스트모텀, 불필요한 노력을 소모하는 원인 등을 찾아서
> 최선의 해결책을 통해 전체적인 상황을 개선할 기반을 마련해야 한다.

#### 팀을 위한 좋은 포스트모텀 문서 작성하기
    포스텀모텀은 팀의 집단적 추리에 큰 도움이 된다.
올바르게 기능하지 못하는 팀이 작성한 포스트모텀은 그다지 효과가 없다.

**포스트 모텀이 너무 과한 업무라거나 심지어는 쓸모 없는 업무라고 생각할 수 있지만**
지금까지 작성한 포스트 모텀을 리뷰하다 보면 개선을 위해 댓글을 남기고 싶지만
결과적으로 해당 팀이 더욱 방어적이 될 뿐이다.

이전에 있었던 실수를 바로잡으려는 것보다는 그 다음에 작성할 포스트모텀을 주도하는편이 낫다.

> 포스트모텀은 실수는 불가피 한 것이므로, 그 당시 행동하는 것이 정확한 정보를 기반으로 올바른 판단을 했을 것이므로 그 시점마다 어떤 생각을 했는지, 어떤 이유로 시스템이 잘못된 판단을 하게 됬는지, 그리고 어떤 부분에서 생각을 깊이 하는것이지 **회고** 하는 것이다.

#### 종류별로 긴급 상황을 구분하기
긴급 상황은 두가지로 나눌 수 있다.
- 절대 발생해서는 안될 상황 -> 삽질을 부르는 일
- 스트레스를 유발하거나 사람이 열받아서 코딩하게 만드는 것.

1. 긴급 상황을 삽질과 삽질이 아닌 것으로 나눈다.
2. 팀에 그 목록을 제공해라.
3. 각 업무들을 왜 자동화 혹은 오버헤드로 분류 하는지를 설명해라. 

### 3. 변화를 주도하기
    팀을 건강하게 만드는 것은 절차다. 그렇기에 엄청난 노력을 투자한다고 해서 해결할 수 있는 해결할 수 있는 문제가 아니다.
> 스스로 통제할 수 있도록 하기 위해서는 이상적인 SRE와의 협업을 위한 정신적 모델을 구축해야 한다.

#### 기본부터 시작하기
SRE 모델, 전통적인 운영 모델 차이점을 이해하지 못하는 팀은
팀의 특정 코드, 절차 혹은 문화 때문에 고생을 해야 하는지를 정확히 인지하지 못한다.
1장과 6장에서 제시했던 원리들을 지켜나가려고 문제들을 하나씩 해결하는데 급급하다.

##### SLO 를 기록하기
    SLO는 장애의 영향을 정량적으로 평가할 수 있고 절차의 변경이 얼마나 중요한지 보여주기 때문이다.

#### 장애 원인 제거를 도와주기
    원인을 파악한 이슈를 빠르게 수정하기 보다는 다음 단계를 밟아보자.
1. 한 명의 팀원이 수행할 수 있는 유용한 업무를 찾는다.
2. 포스트모텀을 통해 해당 업무가 어떤 이슈를 어떻게 완전히 해결할 수 있는지를 명확하게 설명한다.
3. 코드 변경과 문서 수정에 대한 리뷰를 도와준다.
4. 이런 식으로 두세 가지 이슈를 더 해결한다.

> 만일 추가적인 이슈를 발견하면 이슈를 버그 보고에 등록하거나 팀과 논의할 문서에 추가해 두면
> 정보의 전파와 문서의 작성을 독려하는 두마리 토끼를 잡을 수 있다
> **좋은 문서를 통해 약간만 컨텍스트가 달라져도 같은 실수를 반복하는 상황을 피할 수 있다.**

#### 이유를 설명하기
이 위와 같은 행동을 제안하면 지금 까지 운영하던 방식에 의도치 않은 방해물이라고 느낄 수 있다.

그러면 이와 같은 행동을 간단히 설명한 후 문제에서 빠지고, 자신이 제안한 내용을 강조하라.
> 여러분이 팀에 대한 지원을 종료한 후에는 이 팀은 여러분이 디자인이나 변경 목록에 대해 어떤 조언을 할 것인지 예측할 수 있어야 한다.

#### 주도하는 질문을 하기
    부담을 주는 질문이 아닌 기본적인 원리에 대해 생각해볼 수 있는 질문

#### 결론
SRE팀은 결국엔 다음과 같은 사항들을 제공할 수 있다.

- 변화가 필요한 부분을 기술적이며, 정량적으로 평가할 수 있도록 설명할 수 있다.
- 어떻게 변화하게 될 것인지에 대한 구체적인 예를 제공한다.
- SRE들 사이에는 '민간 신앙'처럼 여겨지는 논리적 설명
- 확장성을 고려한 새로운 상황을 처리하는 데 필요한 핵심 원리

    마지막 작업은 실행 완료 보고서를 작성하는 것이다.
    보고서는 시각, 예시, 그리고 설명을 그대로 옮겨야 한다.

그 보고서는 포스트비탐으로 성공을 이끌어낸 각 단계별 주요 의사 결정을 설명해야 한다.